define("1e49a922-5650-4595-926f-4d19966e0e67_1.0.0",["tslib","react","@ms/office-ui-fabric-react-bundle","@microsoft/sp-core-library","@microsoft/sp-lodash-subset","@microsoft/load-themed-styles","@ms/sp-component-utilities","@ms/sp-telemetry","@ms/sp-fluentui-migration-tooltip-bundle","@ms/sp-fluentui-migration-button-bundle","react-dom","@microsoft/sp-diagnostics","@microsoft/sp-http"],(e,t,n,a,i,r,o,s,c,d,l,u,f)=>(()=>{"use strict";var p={424:e=>{e.exports=r},676:e=>{e.exports=a},207:e=>{e.exports=u},909:e=>{e.exports=f},529:e=>{e.exports=i},141:e=>{e.exports=n},773:e=>{e.exports=o},926:e=>{e.exports=d},253:e=>{e.exports=c},408:e=>{e.exports=s},959:e=>{e.exports=t},398:e=>{e.exports=l},280:t=>{t.exports=e}},m={};function _(e){var t=m[e];if(void 0!==t)return t.exports;var n=m[e]={exports:{}};return p[e](n,n.exports,_),n.exports}_.d=(e,t)=>{for(var n in t)_.o(t,n)&&!_.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},_.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),_.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var h={};return(()=>{_.r(h),_.d(h,{ActionBar:()=>I,CdnService:()=>R,DEFAULT_FOCAL_OFFSET:()=>C,FocalPoint:()=>L,TenantCdnDataProvider:()=>F,defaultToCenter:()=>O,getAverageImageBrightness:()=>k,getBackgroundImageOverlay:()=>M});var e=_(280),t=_(959),n=_(141),a=_(253),i=_(926),r=_(676),o=_(529),s=_(424);(0,s.loadStyles)([{rawString:".ms-odsp-screenReaderAlert{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}"}]);const c=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return(0,e.__extends)(n,t),n.read=function(e,t){if(e){var a=document.createTextNode(e);n._getDedicatedDomNode(t||1).appendChild(a)}},n._getDedicatedDomNode=function(e){n._alertNode&&document.body.removeChild(n._alertNode);var t=document.createElement("div");switch(t.setAttribute("data-automation-id","screen-reader-alert-static"),t.classList.add("ms-odsp-screenReaderAlert"),e){case 1:t.setAttribute("aria-live","polite");break;case 2:t.setAttribute("role","alert"),t.setAttribute("aria-live","assertive")}return document.body.appendChild(t),n._alertNode=t,n._alertNode},n.prototype.componentDidMount=function(){n.read(this.props.message,this.props.readingMode)},n.prototype.componentDidUpdate=function(e){e.message===this.props.message&&e.indicator===this.props.indicator||n.read(this.props.message,this.props.readingMode)},n.prototype.render=function(){return!1},n}(t.PureComponent);var d=_(773),l=_(408);function u(){return r._SPFlight.isEnabled(60803)}s.loadStyles('.a_a_cd29e395{background-color:hsla(0,0%,100%,.8);bottom:0;display:flex;height:36px;justify-content:space-between;left:0;position:absolute;right:0;transition:opacity .167s cubic-bezier(.1,.9,.2,1);width:100%}.a_a_cd29e395.b_a_cd29e395,.a_a_cd29e395.c_a_cd29e395{opacity:0}.a_a_cd29e395.e_a_cd29e395{flex-direction:row-reverse}.a_a_cd29e395.f_a_cd29e395{background-color:"[theme:neutralQuaternaryAlt, default: #e1dfdd]";opacity:.8;transition:opacity .167s cubic-bezier(.1,.9,.2,1)}.a_a_cd29e395.f_a_cd29e395.b_a_cd29e395,.a_a_cd29e395.f_a_cd29e395.c_a_cd29e395{opacity:0}.g_a_cd29e395{align-items:center;color:"[theme:neutralDark, default: #201f1e]";display:flex}.h_a_cd29e395:focus,.h_a_cd29e395:hover{color:"[theme:themePrimary, default: #0078d4]"}.i_a_cd29e395{bottom:8px;width:auto}[dir=ltr] .i_a_cd29e395{left:unset}[dir=rtl] .i_a_cd29e395{right:unset}[dir=ltr] .i_a_cd29e395{right:8px}[dir=rtl] .i_a_cd29e395{left:8px}',!0);const f="g_a_cd29e395",p=JSON.parse('{"lY":"设置焦点","qG":"放大","Q4":"缩小","Y5":"编辑详细信息","hr":"按 Enter 将更改标题、链接、图像或此项的其他选项。","T0":"移动项目","V9":"当前缩放比例为 {0}。"}');function m(){return r._SPKillSwitch.isActivated("f8ad6c4f-b42f-4943-a204-e6b6c2b93a8f")}var b={iconName:"FocalPoint"},g={iconName:"ZoomIn"},v={iconName:"ZoomOut"},y={iconName:"Edit"},S={iconName:"Options20Regular"},D={iconName:"Move"},I=function(s){function _(n){var a=s.call(this,n)||this;return a._focalPointButton=t.createRef(),a._handleZoomIn=function(){if(a.props.onSetZoomFactor&&void 0!==a.props.imageItem){var t=1.1*(a.props.imageItem.zoomRatio||1);a.props.onSetZoomFactor((0,e.__assign)((0,e.__assign)({},a.props.imageItem),{zoomRatio:t})),a._alertZoomRatio(t),l._EngagementLogger.log({name:"ImageTools.ZoomIn",extraData:{ratio:t}})}},a._handleZoomOut=function(){if(a.props.onSetZoomFactor&&void 0!==a.props.imageItem){var t=.9*(a.props.imageItem.zoomRatio||1);a.props.onSetZoomFactor((0,e.__assign)((0,e.__assign)({},a.props.imageItem),{zoomRatio:t})),a._alertZoomRatio(t),l._EngagementLogger.log({name:"ImageTools.ZoomOut",extraData:{ratio:t}})}},a._alertZoomRatio=function(e){m()?d.ScreenReaderAlert.read(r.Text.format(p.V9,e.toFixed(2)),d.ReadingMode.ReadImmediately):c.read(r.Text.format(p.V9,e.toFixed(2)),2)},a._alertZoomRatio=(0,o.debounce)(a._alertZoomRatio,500),a}return(0,e.__extends)(_,s),_.prototype.componentDidUpdate=function(e){e.isSettingFocalPoint&&!this.props.isSettingFocalPoint&&this._focalPointButton.current&&this._focalPointButton.current.focus()},_.prototype.render=function(){var e,o="grid-edit-button".concat(this.props.itemId),s=void 0!==this.props.onSetFocalPoint&&t.createElement(a.TooltipHost,{content:p.lY},t.createElement(i.IconButton,{componentRef:this._focalPointButton,onClick:this.props.onSetFocalPoint,iconProps:b,title:p.lY,ariaLabel:p.lY,"data-automation-id":"focal-point-button",role:"menuitem"})),c=void 0!==this.props.onSetZoomFactor&&t.createElement(a.TooltipHost,{content:p.qG},t.createElement(i.IconButton,{onClick:this._handleZoomIn,iconProps:g,title:p.qG,ariaLabel:p.qG,"data-automation-id":"zoom-in-button",role:"menuitem"})),d=void 0!==this.props.onSetZoomFactor&&t.createElement(a.TooltipHost,{content:p.Q4},t.createElement(i.IconButton,{onClick:this._handleZoomOut,iconProps:v,title:p.Q4,ariaLabel:p.Q4,"data-automation-id":"zoom-out-button",role:"menuitem"})),l=t.createElement(a.TooltipHost,{content:p.Y5},t.createElement(i.IconButton,{onClick:this.props.onEdit,onFocus:this.props.onIconFocus,iconProps:r._SPKillSwitch.isActivated("4712fe5a-9c49-4267-a228-876aef2e8ce2")||!r._SPFlight.isEnabled(60808)&&1!==r._SPExperiment.getVariantAndLogExposure(90301)||r._SPKillSwitch.isActivated("a3f45048-0db5-4b7c-9a9a-e3183d216c4d")?y:S,title:p.Y5,ariaLabel:p.Y5,ariaDescription:p.hr,"data-automation-id":"edit-button",id:o,role:"menuitem"})),m=t.createElement("div",{className:f},l,s,c,d),_=this.props.hasMoveButton&&t.createElement(a.TooltipHost,{content:p.T0},t.createElement(i.IconButton,{onFocus:this.props.onIconFocus,iconProps:D,title:p.T0,ariaLabel:p.T0,"data-automation-id":"move-button",role:"menuitem"})),h=t.createElement("div",{className:f},_),I=(0,n.css)("a_a_cd29e395",this.props.hidden&&"b_a_cd29e395",this.props.isSettingFocalPoint&&"c_a_cd29e395",this.props.reverseRow&&"e_a_cd29e395","f_a_cd29e395",u()&&"i_a_cd29e395");if(u()){var x=(0,n.getTheme)().effects;e={borderRadius:null==x?void 0:x.roundedCorner4,overflow:"hidden",button:{width:34,height:34,borderRadius:null==x?void 0:x.roundedCorner4,color:"inherit"}}}return t.createElement("div",{className:(0,n.mergeStyles)(I,e),role:"menubar","aria-activedescendant":o},h,m)},_}(t.PureComponent),x=_(398),C=50;function O(e){return e||{x:C,y:C}}s.loadStyles('.j_b_cd29e395{background-color:"[theme:blackTranslucent40, default: rgba(0,0,0,.4)]";height:100%;opacity:0;position:relative;transition:all .5s ease;width:100%}.k_b_cd29e395 .j_b_cd29e395{display:none}.j_b_cd29e395 .l_b_cd29e395{align-items:center;background-color:"[theme:whiteTranslucent40, default: rgba(255,255,255,.4)]";border:2px solid "[theme:yellowlight, default: #fff100]";border-radius:50%;display:flex;height:64px;justify-content:center;left:50%;pointer-events:none;position:absolute;top:50%;transform:translate(-50%,-50%);-ms-user-select:none;user-select:none;width:64px}.j_b_cd29e395 .l_b_cd29e395 .m_b_cd29e395{color:#fff;font-size:32px;position:relative}.j_b_cd29e395 .n_b_cd29e395{color:#fff;font-size:14px;left:50%;margin-top:50px;position:absolute;top:50%;transform:translate(-50%,-50%)}.j_b_cd29e395.c_b_cd29e395{opacity:1;z-index:2}.j_b_cd29e395.o_b_cd29e395{cursor:pointer}.p_b_cd29e395{position:absolute}',!0);const w="j_b_cd29e395",E=JSON.parse('{"iU":"焦点设在距左侧 {0}% 和距顶部 {1}% 的位置。","dt":"通过拖动来设置焦点。","V":"使用向上、向下、向右和向左键可设置图像的焦距点。使用 Enter 键可退出焦点模式。","ht":"焦点设置完毕。"}');function A(){return r._SPKillSwitch.isActivated("a44cd83e-3a5a-4ac6-99e4-402e13bde3d6")}var L=function(a){function i(e){var r=a.call(this,e)||this;return r._focalFrame=t.createRef(),r._onDragStart=function(e){e.stopPropagation(),e.preventDefault(),r.setState({isDragging:!0})},r._onDragMove=function(e){if(r._focalFrame.current&&r.state.isDragging){e.preventDefault(),e.stopPropagation();var t=r._focalFrame.current.clientWidth,n=r._focalFrame.current.clientHeight,a=Math.min(Math.max(e.nativeEvent.offsetX,0),t),i=Math.min(Math.max(e.nativeEvent.offsetY,0),n);r._onFocalPointMove({x:a/t*100,y:i/n*100})}},r._onDragEnd=function(e){e.stopPropagation(),e.preventDefault(),r.setState({isDragging:!1}),r._onFocalPointEnd("Mouse"),i.focus(r._focalFrame.current)},r._handleMouseLeave=function(e){r.state.isDragging&&(e.stopPropagation(),e.preventDefault(),r.setState({isDragging:!1}),r._onFocalPointEnd("Mouse"))},r._handleKeyDown=function(e){e.stopPropagation(),e.preventDefault();var t=O(r.props.position),a=t.x,i=t.y;r._isKey(n.KeyCodes.enter,e)?r._onFocalPointEnd("Keyboard"):(r._isKey(n.KeyCodes.escape,e)?(a=50,i=50):r._isKey(n.KeyCodes.left,e)?a--:r._isKey(n.KeyCodes.up,e)?i--:r._isKey(n.KeyCodes.right,e)?a++:r._isKey(n.KeyCodes.down,e)&&i++,r._onFocalPointMove({x:Math.min(Math.max(Math.round(a),0),100),y:Math.min(Math.max(Math.round(i),0),100)}))},r._debounceReadPosition=r._async.debounce(r._readPosition,500,{leading:!1}),r.state={isDragging:!1},r}return(0,e.__extends)(i,a),i.focus=function(e){setTimeout(function(){if(e){var t=x.findDOMNode(e);if(t instanceof Element){var n=t.classList.contains(w)?t:t.querySelector(".".concat(w));n instanceof HTMLElement&&(m()?d.ScreenReaderAlert.read(E.V,d.ReadingMode.ReadImmediately):c.read(E.V,2),n.setAttribute("data-automation-id","focalFrameIsSetting"),n.focus())}}})},i.prototype.render=function(){var e=O(this.props.position),a=e.x,i=e.y,o=void 0===this.props.position&&t.createElement("div",{className:"n_b_cd29e395"},E.dt),s=(0,n.css)(w,!r._SPKillSwitch.isActivated("4537cf0c-7c62-4542-b3cc-132bdc628c51")&&"p_b_cd29e395","c_b_cd29e395",this.state.isDragging&&"o_b_cd29e395"),c=(0,n.css)((0,n.getIconClassName)("SIPMove"),"m_b_cd29e395");return t.createElement("div",{className:s,tabIndex:0,role:"region",onMouseDown:this._onDragStart,onMouseMove:this._onDragMove,onMouseUp:this._onDragEnd,onMouseLeave:this._handleMouseLeave,onKeyDown:this._handleKeyDown,ref:this._focalFrame,"data-automation-id":this.state.isDragging?"focalFrameIsDragging":"","data-sp-a11y-skipkeys":"all"},t.createElement("div",{className:"l_b_cd29e395","data-automation-id":"titleRegionFocalCircle",style:{left:"".concat(a,"%"),top:"".concat(i,"%")}},t.createElement("i",{className:c,"aria-hidden":!0})),o)},i.prototype._isKey=function(e,t){return t.keyCode===e&&!t.altKey&&!t.ctrlKey&&!t.shiftKey},i.prototype._onFocalPointEnd=function(e){m()?d.ScreenReaderAlert.read(E.ht,d.ReadingMode.ReadImmediately):c.read(E.ht,2),this.props.onFocalPointEnd(e)},i.prototype._onFocalPointMove=function(e){this._debounceReadPosition(e),this.props.onFocalPointMove(e)},i.prototype._readPosition=function(e){var t=r._SPKillSwitch.isActivated("978713f6-fc4a-470b-9c78-ff990ab772d1")?r.Text.format(E.iU,e.x,e.y):r.Text.format(E.iU,Math.round(e.x),Math.round(e.y));m()?d.ScreenReaderAlert.read(t,d.ReadingMode.ReadImmediately):c.read(t,2)},i.hideClassName="k_b_cd29e395",i}(n.BaseComponent);function k(e){return new Promise(function(t){var n=new Image;n.src=e,r._SPKillSwitch.isActivated("d836e865-e27f-495b-9a89-b622a2b621e3")||(n.crossOrigin="anonymous"),n.onload=function(){var e=document.createElement("canvas");e.width=n.naturalWidth,e.height=n.naturalHeight;var a=e.getContext("2d");a.drawImage(n,0,0);for(var i=a.getImageData(0,0,e.width,e.height).data,r=0,o=[],s=0;s<i.length;s+=4){var c=.299*i[s]+.587*i[s+1]+.114*i[s+2];r+=c,o.push(c)}var d=Math.floor(r/(n.naturalHeight*n.naturalWidth));t(d)}})}function M(e){return k(e).then(function(e){var t,n,a;return e<=153?(t="#000000",a=!0,n=e<=51?20:e<=102?40:60):(t="#FFFFFFF",a=!1,n=e<=204?80:60),{color:t,opacity:n,useLightText:a}})}var P=_(207),T=_(909),U={jsonRequest:!0,jsonResponse:!0,defaultSameOriginCredentials:!0,defaultODataVersion:T.ODataVersion.v3,requestDigest:!0};const F=function(){function t(e,t){var n=this;this._checkResponseStatus=function(e){return e.status>=200&&e.status<=299?e.json():e.json().catch(function(t){return Promise.reject(new Error("Unexpected response. Response code: ".concat(e.status,". Correlation id: ").concat(e.correlationId,". Error message: ").concat(n._extractErrorMessage(t),".")))})},this._spHttpClient=e,this._webAbsoluteUrl=t}return t.prototype.getCdnUrls=function(t){return(0,e.__awaiter)(this,void 0,void 0,function(){var n;return(0,e.__generator)(this,function(e){switch(e.label){case 0:return[4,this._spHttpClient.post("".concat(this._webAbsoluteUrl,"/_api/tenantcdn/getcdnurls"),new T.SPHttpClientConfiguration(T.SPHttpClient.configurations.v1,U),{body:JSON.stringify({items:t})})];case 1:return n=e.sent(),[4,this._checkResponseStatus(n)];case 2:return[2,e.sent().value]}})})},t.prototype._extractErrorMessage=function(e){return e?e.message?e.message:e.error&&e.error.message?e.error.message:e["odata.error"]?"message=".concat(e["odata.error"].message.value,"|code=").concat(e["odata.error"].code):"unknowError":""},t}();var H=[2560,1600,960,400].sort(function(e,t){return t-e});const R=function(){function t(e){this._proactiveThumbSeedMonitor=new P._QosMonitor("ProactiveThumbnailSeed"),this._tenantCdnDataProvider=e}return t.createFromServiceScope=function(e,n){if(e._isFinished){var a=e.consume(T.SPHttpClient.serviceKey);return a&&n?new t(new F(a,n)):void P._TraceLogger.logError(t._logSource,new Error("CdnService.createFromServiceScope: spHttpClient or webAbsoluteUrl is undefined"))}P._TraceLogger.logError(t._logSource,new Error("CdnService.createFromServiceScope: serviceScope is not finished"))},t.prototype.seedImageBreakpointsIntoCdn=function(n,a){return(0,e.__awaiter)(this,void 0,void 0,function(){var i,o,s,c,d=this;return(0,e.__generator)(this,function(l){switch(l.label){case 0:if(i={serverRelativeUrl:"scrubbed",sourceWidth:a},!a||a<=0)return A()?this._proactiveThumbSeedMonitor.writeUnexpectedFailure("naturalWidth invalid: ".concat(a)):this._proactiveThumbSeedMonitor.writeUnexpectedFailure("naturalWidth invalid",void 0,i),[2];o=function(n){return(0,e.__awaiter)(d,void 0,void 0,function(){var o,s,c,d,l,u,f,p,m,_,h,b,g,v,y,S;return(0,e.__generator)(this,function(e){switch(e.label){case 0:o=H.filter(function(e){return e<=a}),i.breakpointsAvailable=o.join(","),s=[],c=0,d=o,e.label=1;case 1:if(!(c<d.length))return[3,12];l=d[c],u={breakpoint:l,isFirstBreakpoint:l===o[0],isRetry:!1,isAbandoned:!1,isSuccessful:!1,statusCode:0,statusText:""},f=new P._QosMonitor("ProactiveThumbnailSeedItem"),p={serverRelativeUrl:"scrubbed",breakpoint:l,isFirstBreakpoint:u.isFirstBreakpoint,sourceWidth:a},e.label=2;case 2:return e.trys.push([2,9,10,11]),m=this._updatePreferOptimized(n),_=this._updateThumbnailWidth(m,l),[4,this._fetchImageBlob(_)];case 3:if(h=e.sent(),u.isSuccessful=!0,u.statusCode=h.status,u.statusText=h.statusText,p.cdnUrlWithWidth="scrubbed",p.statusCode=u.statusCode,p.sourceWidth=a,r._SPKillSwitch.isActivated("75282f9d-b485-4141-9879-737fc14d46a2"))return[3,8];e.label=4;case 4:return e.trys.push([4,7,,8]),g=this._getImageInfo,[4,h.blob()];case 5:return[4,g.apply(this,[e.sent()])];case 6:return b=e.sent(),p.actualWidth=b.width,p.actualHeight=b.height,p.size=b.sizeBytes,p.type=b.mimeType,[3,8];case 7:return v=e.sent(),P._TraceLogger.logError(t._logSource,v),[3,8];case 8:return f.writeSuccess(p),[3,11];case 9:return y=e.sent(),u.statusCode=null==y?void 0:y.statusCode,u.statusText=null==y?void 0:y.statusText,p.statusCode=u.statusCode,p.statusText=u.statusText,S=new Error("<serverRelativeUrl>scrubbed</serverRelativeUrl> <statusCode>".concat(p.statusCode,"</statusCode> Error:").concat(null==y?void 0:y.error)),f.writeUnexpectedFailure("Failed for width: ".concat(l),S,p),u.isFirstBreakpoint?(u.isAbandoned=!0,[3,12]):(P._TraceLogger.logError(t._logSource,y),[3,11]);case 10:return s.push(u),[7];case 11:return c++,[3,1];case 12:return i.successfulBreakpoints=s.filter(function(e){return e.isSuccessful}).map(function(e){return e.breakpoint}).join(","),i.failedBreakpoints=s.filter(function(e){return!e.isSuccessful}).map(function(e){return e.breakpoint}).join(","),1===s.length&&s.length<o.length?(i.statusCode=s[0].statusCode,i.statusText=s[0].statusText,this._proactiveThumbSeedMonitor.writeUnexpectedFailure("seedCdn",new Error("Initial thumb failed. Abandoned all subsequent attempts."),i)):s.some(function(e){return e.isSuccessful})?this._proactiveThumbSeedMonitor.writeSuccess(i):0===s.length?this._proactiveThumbSeedMonitor.writeExpectedFailure(A()?"No available breakpoints to process: scrubbed":"No available breakpoints to process",void 0,i):this._proactiveThumbSeedMonitor.writeUnexpectedFailure("All failed",new Error("Impossible failure. Logic around abandoning at first items failure must have changed."),i),[2]}})})},l.label=1;case 1:return l.trys.push([1,4,,5]),[4,this.getCdnURLForItem(n)];case 2:return void 0===(s=l.sent())?(A()?this._proactiveThumbSeedMonitor.writeUnexpectedFailure("cdnUrlResult is undefined"):this._proactiveThumbSeedMonitor.writeUnexpectedFailure("cdnUrlResult is undefined",void 0,i),[2]):s.CdnUrl?[4,o(s.CdnUrl)]:(A()?this._proactiveThumbSeedMonitor.writeExpectedFailure("No CDN url for the provided item: scrubbed"):this._proactiveThumbSeedMonitor.writeExpectedFailure("No CDN url for the provided item",void 0,i),[2]);case 3:return l.sent(),[3,5];case 4:return c=l.sent(),A()?this._proactiveThumbSeedMonitor.writeUnexpectedFailure("Cannot Continue",c):this._proactiveThumbSeedMonitor.writeUnexpectedFailure("Cannot Continue",c,i),P._TraceLogger.logError(t._logSource,c),[3,5];case 5:return[2]}})})},t.prototype.getCdnURLForItem=function(e){return this._tenantCdnDataProvider.getCdnUrls([e]).then(function(e){if(e.length>0)return e[0]})},t.prototype._updateThumbnailWidth=function(e,t){return"".concat(e).concat(-1===e.indexOf("?")?"?":"&").concat("width","=").concat(t)},t.prototype._updatePreferOptimized=function(e){return r._SPKillSwitch.isActivated("f223316a-d833-4394-8b17-bbb07fbcce9f")?e:"".concat(e).concat(-1===e.indexOf("?")?"?":"&").concat("preferOptimized","=true")},t.prototype._fetchImageBlob=function(t,n){return(0,e.__awaiter)(this,void 0,void 0,function(){var a,i,r,o,s;return(0,e.__generator)(this,function(e){switch(e.label){case 0:a=new Headers(n),i=new AbortController,r=setTimeout(function(){return i.abort("Request timed out after: ".concat(5e3,"ms"))},5e3),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,fetch(t,{headers:a,cache:"reload",redirect:"follow",signal:i.signal})];case 2:if(o=e.sent(),clearTimeout(r),o.ok)return[2,o];throw new Error("Request Failed: ".concat(o.status," ").concat(o.statusText));case 3:if(s=e.sent(),i.signal.aborted)throw new Error(i.signal.reason);throw s;case 4:return[2]}})})},t.prototype._getImageInfo=function(e){return new Promise(function(t,n){try{var a=URL.createObjectURL(e),i=new Image;i.onload=function(){var n={width:i.naturalWidth,height:i.naturalHeight,sizeBytes:e.size,mimeType:e.type};t(n)},i.onerror=function(){n()},i.src=a}catch(e){n(e)}})},t._logSource=P._LogSource.create("CdnService"),t}()})(),h})());
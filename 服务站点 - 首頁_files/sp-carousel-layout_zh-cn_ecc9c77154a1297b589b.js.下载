define("8ac0c53c-e8d0-4e3e-87d0-7449eb0d4027_1.0.193",["tslib","react","@ms/office-ui-fabric-react-bundle","@microsoft/sp-core-library","@microsoft/sp-diagnostics","@ms/odsp-utilities-bundle","@microsoft/load-themed-styles","@ms/sp-fluentui-migration-choicegroup-bundle","@msinternal/sharepoint-ui-tokens-bundle"],(e,t,n,a,i,r,o,s,c)=>(()=>{"use strict";var d={424:e=>{e.exports=o},676:e=>{e.exports=a},207:e=>{e.exports=i},939:e=>{e.exports=r},141:e=>{e.exports=n},670:e=>{e.exports=s},930:e=>{e.exports=c},959:e=>{e.exports=t},280:t=>{t.exports=e}},l={};function u(e){var t=l[e];if(void 0!==t)return t.exports;var n=l[e]={exports:{}};return d[e](n,n.exports,u),n.exports}u.d=(e,t)=>{for(var n in t)u.o(t,n)&&!u.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},u.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),u.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var f={};return(()=>{u.r(f),u.d(f,{CAROUSEL_CONSTANTS:()=>z,Carousel:()=>J,CarouselLayout:()=>V,CarouselLayoutLoader:()=>X,getItemWidth:()=>Q});var e=u(280),t=u(959),n=u(141),a=u(676),i=u(207),r=u(939),o=u(424);(0,o.loadStyles)([{rawString:".ms-odsp-screenReaderAlert{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}"}]);const s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return(0,e.__extends)(n,t),n.read=function(e,t){if(e){var a=document.createTextNode(e);n._getDedicatedDomNode(t||1).appendChild(a)}},n._getDedicatedDomNode=function(e){n._alertNode&&document.body.removeChild(n._alertNode);var t=document.createElement("div");switch(t.setAttribute("data-automation-id","screen-reader-alert-static"),t.classList.add("ms-odsp-screenReaderAlert"),e){case 1:t.setAttribute("aria-live","polite");break;case 2:t.setAttribute("role","alert"),t.setAttribute("aria-live","assertive")}return document.body.appendChild(t),n._alertNode=t,n._alertNode},n.prototype.componentDidMount=function(){n.read(this.props.message,this.props.readingMode)},n.prototype.componentDidUpdate=function(e){e.message===this.props.message&&e.indicator===this.props.indicator||n.read(this.props.message,this.props.readingMode)},n.prototype.render=function(){return!1},n}(t.PureComponent);var c=Math.random().toString().substr(2,5),d={carouselDotSelected:"carouselDotSelected-".concat(c)};function l(){return a._SPKillSwitch.isActivated("6078875c-7741-4b4a-b493-c5f41d031db6")}function p(){return a._SPKillSwitch.isActivated("ebb0d81c-9278-4eac-9578-042b3df18269")}function m(){return a._SPKillSwitch.isActivated("e849a113-7ee1-425e-b102-ade0ada538d5")}function _(){return a._SPKillSwitch.isActivated("0f38f30d-23b2-4733-8c69-a4934752c634")}function h(){return!a._SPKillSwitch.isActivated("348ddbfb-f3ec-4eba-9a81-a1f19ab37014")&&a._SPFlight.isEnabled(61365)}function b(){return a._SPKillSwitch.isActivated("12568db2-652e-4ec3-85bd-14630634707c")}function g(){return a._SPKillSwitch.isActivated("568b7ae1-4bcf-468d-b171-883945d19f5c")}function v(){return a._SPKillSwitch.isActivated("5380be73-e574-4d02-b8ce-dd291e35ad08")}function y(){return a._SPKillSwitch.isActivated("6276bef1-578e-4daf-bbd8-88a8d33dfe16")}function S(){return a._SPKillSwitch.isActivated("09957c4a-b6b4-4699-ae2f-67f520045269")}o.loadStyles('.i_b_fc885fa4{position:relative}.i_b_fc885fa4:hover .j_b_fc885fa4{opacity:1}.i_b_fc885fa4 .j_b_fc885fa4{font-size:28px;height:36px;opacity:0;outline:0;position:absolute;top:calc(50% - 18px);width:36px;z-index:1}.i_b_fc885fa4 .j_b_fc885fa4.k_b_fc885fa4{opacity:.65}.i_b_fc885fa4 .j_b_fc885fa4.k_b_fc885fa4:hover{opacity:1}[dir=ltr] .i_b_fc885fa4 .j_b_fc885fa4.l_b_fc885fa4{left:2px}[dir=ltr] .i_b_fc885fa4 .j_b_fc885fa4.m_b_fc885fa4,[dir=rtl] .i_b_fc885fa4 .j_b_fc885fa4.l_b_fc885fa4{right:2px}[dir=rtl] .i_b_fc885fa4 .j_b_fc885fa4.m_b_fc885fa4{left:2px}.i_b_fc885fa4 .j_b_fc885fa4 .n_b_fc885fa4{background:"[theme:neutralDark, default: #201f1e]";color:"[theme:white, default: #ffffff]";cursor:pointer;opacity:.65;padding:4px}.i_b_fc885fa4 .o_b_fc885fa4{overflow:hidden;width:100%}.i_b_fc885fa4 .o_b_fc885fa4 .p_b_fc885fa4{display:flex;touch-action:pan-y}.i_b_fc885fa4 .o_b_fc885fa4 .p_b_fc885fa4.q_b_fc885fa4{transition:transform .5s ease}.i_b_fc885fa4 .o_b_fc885fa4 .p_b_fc885fa4.r_b_fc885fa4{transition:transform}.i_b_fc885fa4 .o_b_fc885fa4 .p_b_fc885fa4.s_b_fc885fa4{transform:translateX(0)}[dir=ltr] .i_b_fc885fa4 .o_b_fc885fa4 .p_b_fc885fa4.t_b_fc885fa4{transform:translateX(-100%)}[dir=rtl] .i_b_fc885fa4 .o_b_fc885fa4 .p_b_fc885fa4.t_b_fc885fa4{transform:translateX(100%)}[dir=ltr] .i_b_fc885fa4 .o_b_fc885fa4 .p_b_fc885fa4.u_b_fc885fa4{transform:translateX(-200%)}[dir=rtl] .i_b_fc885fa4 .o_b_fc885fa4 .p_b_fc885fa4.u_b_fc885fa4{transform:translateX(200%)}.i_b_fc885fa4 .o_b_fc885fa4 .p_b_fc885fa4 .v_b_fc885fa4{flex:1 0 100%}.i_b_fc885fa4 .o_b_fc885fa4 .p_b_fc885fa4 .v_b_fc885fa4.w_b_fc885fa4{width:100%}.x_b_fc885fa4{align-items:center;display:flex;height:8px;justify-content:space-between;position:relative}[dir=ltr] .x_b_fc885fa4{left:50%}[dir=rtl] .x_b_fc885fa4{right:50%}[dir=ltr] .x_b_fc885fa4{transform:translateX(-50%)}[dir=rtl] .x_b_fc885fa4{transform:translateX(50%)}.x_b_fc885fa4.w_b_fc885fa4{padding-top:16px}.x_b_fc885fa4 .y_b_fc885fa4{background-color:"[theme:themePrimary, default: #0078d4]";border:2px solid;border-radius:4px;cursor:pointer;display:inline-block;height:4px;opacity:.5;opacity:.25;outline:0;width:4px}.x_b_fc885fa4 .y_b_fc885fa4.z_b_fc885fa4{border:3px solid "[theme:white, default: #ffffff]";opacity:.75;outline:2px solid;outline-color:"[theme:themePrimary, default: #0078d4]"}.x_b_fc885fa4 .y_b_fc885fa4:hover{opacity:1}.x_b_fc885fa4 .aa_b_fc885fa4{background-color:"[theme:themePrimary, default: #0078d4]";border:2px solid;border-radius:4px;cursor:pointer;display:inline-block;height:4px;opacity:.5;outline:0;width:4px}.x_b_fc885fa4 .aa_b_fc885fa4.z_b_fc885fa4{border:3px solid "[theme:white, default: #ffffff]";opacity:.75;outline:2px solid;outline-color:"[theme:themePrimary, default: #0078d4]"}.x_b_fc885fa4 .aa_b_fc885fa4:hover{opacity:1}.ab_b_fc885fa4{display:inline}.ac_b_fc885fa4{column-gap:1em;display:inline-flex;flex-direction:row;flex-wrap:nowrap}.ae_b_fc885fa4{display:flex;height:8px;justify-content:center;position:relative}.ae_b_fc885fa4.w_b_fc885fa4{padding-top:16px}.ae_b_fc885fa4.af_b_fc885fa4{padding-bottom:16px}.ag_b_fc885fa4 div[class*=fui-Radio__indicator]{margin:unset}.ah_b_fc885fa4{align-items:center;cursor:pointer;display:flex;font-size:28px;z-index:1}.ai_b_fc885fa4{cursor:pointer;padding:4px}.aj_b_fc885fa4{cursor:pointer;font-size:28px;margin-top:8px;z-index:1}.aj_b_fc885fa4,.ak_b_fc885fa4{align-items:center;display:flex}.ak_b_fc885fa4{justify-content:center;margin-top:.5rem}',!0);const D="j_b_fc885fa4",I="k_b_fc885fa4",x="n_b_fc885fa4",C="o_b_fc885fa4",O="v_b_fc885fa4",w="w_b_fc885fa4",E="ac_b_fc885fa4",A="ah_b_fc885fa4",L="ai_b_fc885fa4",k="aj_b_fc885fa4",M="ak_b_fc885fa4",P=JSON.parse('{"NX":"使用 Enter 键访问项目上的链接。使用向左键和向右键在轮播中的项目之间导航。","de":"使用 Enter 键访问项目上的链接。","z":"轮播布局中有 {0} 项。{1} {2}","EF":"下一步","WA":"上一个","QN":"第 {0} 个，共 {1} 个 {2} {3}","XT":"{0}/{1}","hw":"第 {0} 项，共 {1} 项 {2}","ko":"第 {0} 张幻灯片，共 {1} 张","bC":"第 {0} 个旋转点(共 {1} 个)","fX":"{0} 旋转点"}');var T=u(670);const U="ArrowDown",F="ArrowLeft",H="ArrowRight",R="ArrowUp";var N,B="carouselItemWrapper";function j(e){return y()?e.keyCode===n.KeyCodes.up||e.keyCode===n.KeyCodes.down:e.key===R||e.key===U}!function(e){e[e.Initial=0]="Initial",e[e.Next=1]="Next",e[e.Previous=2]="Previous"}(N||(N={}));const V=function(i){function r(e){var r=i.call(this,e)||this;return r._autoPlayIntervalId=-1,r._rendered=new Set,r._isReducedMotionOn=!1,r._async=new n.Async,r._carouselItemContainer=t.createRef(),r._stopAutoplay=function(){r._async.clearInterval(r._autoPlayIntervalId),r._autoPlayIntervalId=-1},r._slidingDotClickHandler=function(e,t){if(r.state.position!==t){r._stopAutoplay();var n=r.state.position>t?N.Previous:N.Next,a=n===N.Next?r.state.position+1:r.state.position-1;r._slide(a,n,Math.abs(r.state.position-t)-1)}},r._nextClickHandler=function(){var e,t,n,i,o,c,d,l;r._stopAutoplay();var u=(r.state.position+1)%r._carouselItemsCount,f=(r.state.position+2)%r._carouselItemsCount||r._carouselItemsCount;r.props.disableSlideChangeAlert?S()||s.read(a.Text.format(P.ko,f,r._carouselItemsCount),2):!g()||("news"===(null===(e=r.props)||void 0===e?void 0:e.scenario)||!v())&&(null===(t=r.props)||void 0===t?void 0:t.items)&&(null===(i=null===(n=r.props)||void 0===n?void 0:n.items[u])||void 0===i?void 0:i.title)?s.read(a.Text.format(g()?P.hw:P.QN,f,r._carouselItemsCount,null===(c=null===(o=r.props.items)||void 0===o?void 0:o[u])||void 0===c?void 0:c.title,null===(l=null===(d=r.props.items)||void 0===d?void 0:d[u])||void 0===l?void 0:l.altText),2):s.read(a.Text.format(P.XT,f,r._carouselItemsCount),2),r._slide(u,N.Next),r.props.onNext&&r.props.onNext()},r._prevClickHandler=function(){var e,t,n,i,o,c,d,l;r._stopAutoplay();var u=(r.state.position-1+r._carouselItemsCount)%r._carouselItemsCount,f=r.state.position%r._carouselItemsCount||r._carouselItemsCount;r.props.disableSlideChangeAlert?S()||s.read(a.Text.format(P.ko,f,r._carouselItemsCount),2):!g()||("news"===(null===(e=r.props)||void 0===e?void 0:e.scenario)||!v())&&(null===(t=r.props)||void 0===t?void 0:t.items)&&(null===(i=null===(n=r.props)||void 0===n?void 0:n.items[u])||void 0===i?void 0:i.title)?s.read(a.Text.format(g()?P.hw:P.QN,f,r._carouselItemsCount,null===(c=null===(o=r.props.items)||void 0===o?void 0:o[u])||void 0===c?void 0:c.title,null===(l=null===(d=r.props.items)||void 0===d?void 0:d[u])||void 0===l?void 0:l.altText),2):s.read(a.Text.format(P.XT,f,r._carouselItemsCount),2),r._slide(u,N.Previous),r.props.onPrevious&&r.props.onPrevious()},r._getCarouselItemOrder=function(e){var t=2===r._carouselItemsCount?4:r._carouselItemsCount;return(e+t-r.state.position+1)%t},r._onTouchStart=function(e){e.preventDefault(),e.touches.length>=1&&(r._xPos=e.touches[0].clientX,r._yPos=e.touches[0].clientY)},r._onTouchMove=function(e){e.preventDefault(),e.touches.length>=1&&r._handleSwipeEvent(e.touches[0].clientX,e.touches[0].clientY,!1)},r._onMouseDown=function(e){r._xPos=e.clientX,r._yPos=e.clientY},r._onMouseUp=function(e){e.preventDefault(),r._handleSwipeEvent(e.clientX,e.clientY,!0)},r._handleSwipeEvent=function(e,t,n){if(r._xPos&&r._yPos){var a=r._xPos-e,i=r._yPos-t;Math.abs(a)>Math.abs(i)&&(!n||n&&Math.abs(a)>o._minXDiffForSwipeGesture)&&(a<0&&!o._isRTL||a>0&&o._isRTL?r._prevClickHandler():r._nextClickHandler()),r._xPos=void 0,r._yPos=void 0}},r._handleKey=function(e){if(y()?o._isRightKeyLegacy(e.keyCode):o._isRightKey(e.key))(e.target===r._carouselRef||r._isFocusInFirstOrLastItemOfCurrentSlide("last"))&&(r._nextClickHandler(),e.stopPropagation());else if(y()?o._isLeftKeyLegacy(e.keyCode):o._isLeftKey(e.key))(e.target===r._carouselRef||r._isFocusInFirstOrLastItemOfCurrentSlide("first"))&&(r._prevClickHandler(),e.stopPropagation());else if(r._carouselRef===e.target&&r._activeCarouselItem&&!e.shiftKey&&(y()?e.keyCode===n.KeyCodes.enter||e.keyCode===n.KeyCodes.tab||!b()&&e.keyCode===n.KeyCodes.space:"Enter"===e.key||"Tab"===e.key||!b()&&" "===e.key)){if(y()?e.keyCode===n.KeyCodes.tab:"Tab"===e.key)return;!b()&&r.props.onClickItem&&r.props.onClickItem(r.state.position,e),e.stopPropagation(),r._focusInsideActiveItem()}else if(!y()&&r.props.edit&&(e.key===R||e.key===U)&&r._activeCarouselItem&&!r._isFocusInFirstOrLastItemOfCurrentSlide("first")){var t=(0,n.getFirstFocusable)(r._activeCarouselItem,r._activeCarouselItem,!0);null==t||t.focus()}},r._handleChange=function(e,t){e&&t&&r._slidingDotClickHandler(e,Number(t.key))},r._handleTransitionEnd=function(e){var t,n=document.activeElement!==r._carouselRef&&!!(null===(t=r._carouselRef)||void 0===t?void 0:t.contains(document.activeElement));e.target===r._carouselItemContainer.current&&"transform"===e.propertyName&&n&&r._focusInsideActiveItem()},r._focusInsideActiveItem=function(){var e;r._activeCarouselItem&&(e=(0,n.getFirstFocusable)(r._activeCarouselItem,r._activeCarouselItem,!0)),e&&!e.hasAttribute("tabindex")&&e.hasAttribute("data-is-focusable")&&e.setAttribute("tabindex","-1"),null==e||e.focus()},r._handleArrowButtonMouseDown=function(e){e.preventDefault()},r._handleKeyDown=function(e){return function(t){"Enter"!==t.key&&"Space"!==t.key||(e?r._prevClickHandler():r._nextClickHandler())}},r.state={direction:N.Initial,position:0,reordering:!1},r}var o;return(0,e.__extends)(r,i),o=r,r._isLeftKey=function(e){return e===F&&!o._isRTL||e===H&&o._isRTL},r._isRightKey=function(e){return e===H&&!o._isRTL||e===F&&o._isRTL},r._isLeftKeyLegacy=function(e){return e===n.KeyCodes.left&&!o._isRTL||e===n.KeyCodes.right&&o._isRTL},r._isRightKeyLegacy=function(e){return e===n.KeyCodes.right&&!o._isRTL||e===n.KeyCodes.left&&o._isRTL},Object.defineProperty(r.prototype,"_classNames",{get:function(){return{carouselOuterContainer:[{selectors:{"&:focus":{outline:"2px solid",outlineColor:(e={variantTheme:this.props.theme,carouselItemsCount:this._carouselItemsCount}).variantTheme&&e.variantTheme.semanticColors.focusBorder}}}],carouselDotsContainer:[{width:8*e.carouselItemsCount+24*(e.carouselItemsCount-1)}],carouselDotContainer:[{outline:0,selectors:(t={},t["&:focus, .".concat(d.carouselDotSelected,":focus")]={outline:"0 !important"},t["&:focus .".concat(d.carouselDotSelected)]={outline:"2px solid",outlineColor:e.variantTheme&&e.variantTheme.semanticColors.focusBorder},t)}],carouselDotSelected:[d.carouselDotSelected]};var e,t},enumerable:!1,configurable:!0}),r.prototype.moveToPrevSlide=function(){this._prevClickHandler()},r.prototype.moveToNextSlide=function(){this._nextClickHandler()},r.prototype.render=function(){var e=this,i=(0,n.mergeStyles)("i_b_fc885fa4",this._classNames.carouselOuterContainer);return"function"!=typeof window.matchMedia||p()||(this._isReducedMotionOn=window.matchMedia("(prefers-reduced-motion: reduce)").matches),t.createElement(t.Fragment,null,t.createElement("div",{"aria-label":this._carouselOuterContainerAriaLabel,tabIndex:this.props.disableSwipeFeature?void 0:0,className:i,role:"presentation",ref:function(t){var n;e._carouselRef=t,null===(n=e._carouselRef)||void 0===n||n.addEventListener("keydown",e._handleKey)},"data-automation-id":this.props.dataAutomationId||"carouselOuterContainer"},this._carouselItemsCount>1&&!this.props.hideChevron&&t.createElement("div",{"aria-hidden":!this.props.alwaysShowArrowButton||void 0,"data-automation-id":"SP-carouselArrowLeft",className:(0,n.mergeStyles)(D,"l_b_fc885fa4",this.props.alwaysShowArrowButton&&I),role:this.props.alwaysShowArrowButton?"button":void 0,tabIndex:this.props.alwaysShowArrowButton?0:void 0,onMouseDown:this._handleArrowButtonMouseDown},t.createElement(n.Icon,{className:x,ariaLabel:o._isRTL?P.EF:P.WA,iconName:o._isRTL?"ChevronRight":"ChevronLeft",title:o._isRTL?P.EF:P.WA,onClick:o._isRTL?this._nextClickHandler:this._prevClickHandler})),t.createElement(n.FocusZone,{className:!a._SPKillSwitch.isActivated("1a5135fa-e6f0-4632-9a2d-f294f6837055")&&this.props.customClass?(0,n.mergeStyles)(C,this.props.customClass):C,direction:n.FocusZoneDirection.horizontal,isCircularNavigation:!0,isInnerZoneKeystroke:j},t.createElement("div",{ref:this._carouselItemContainer,"data-automation-id":"SP-carouselItemsContainer",className:(0,n.mergeStyles)("p_b_fc885fa4",!this.state.reordering&&(!p()&&this._isReducedMotionOn&&!this.props.removeReduceMotionOption||!a._SPKillSwitch.isActivated("7fbb0697-92f6-4b2f-bbc4-8481d5a0e352")&&a._SPFlight.isEnabled(62266)&&this.state.direction===N.Initial?"r_b_fc885fa4":"q_b_fc885fa4"),this._getTransformCssClassName()),role:"list","aria-label":this.props.title,onTouchStart:this.props.disableSwipeFeature?void 0:this._onTouchStart,onTouchMove:this.props.disableSwipeFeature?void 0:this._onTouchMove,onMouseDown:this.props.disableSwipeFeature?void 0:this._onMouseDown,onMouseUp:this.props.disableSwipeFeature?void 0:this._onMouseUp,onTransitionEnd:this._handleTransitionEnd},this._getCarouselItems())),this._carouselItemsCount>1&&!this.props.hideChevron&&t.createElement("div",{"data-automation-id":"SP-carouselArrowRight","aria-hidden":!this.props.alwaysShowArrowButton||void 0,className:(0,n.mergeStyles)(D,"m_b_fc885fa4",this.props.alwaysShowArrowButton&&I),role:this.props.alwaysShowArrowButton?"button":void 0,tabIndex:this.props.alwaysShowArrowButton?0:void 0,onMouseDown:this._handleArrowButtonMouseDown},t.createElement(n.Icon,{className:x,iconName:o._isRTL?"ChevronLeft":"ChevronRight",ariaLabel:o._isRTL?P.WA:P.EF,title:o._isRTL?P.WA:P.EF,onClick:o._isRTL?this._prevClickHandler:this._nextClickHandler}))),this._carouselItemsCount>1&&t.createElement(n.FocusZone,{isCircularNavigation:!0,direction:n.FocusZoneDirection.horizontal},t.createElement("div",{"data-automation-id":"SP-carouselDotsContainer",className:(0,n.mergeStyles)("ae_b_fc885fa4",this.props.renderDots&&w,this.props.edit&&"af_b_fc885fa4",!a._SPKillSwitch.isActivated("b8c5610c-3586-430d-a794-b37b2be543db")&&"ag_b_fc885fa4"),role:a._SPKillSwitch.isActivated("54fe78bf-933c-49d9-97a5-bee1fa3d3e5c")?void 0:"radiogroup"},this._getChoiceGroup())))},r.prototype.componentDidMount=function(){this._startAutoPlayTask(),this.props.componentRef&&(this.props.componentRef.current=this)},r.prototype.componentDidUpdate=function(e){e.autoplaySpeed!==this.props.autoplaySpeed&&(this._async.clearInterval(this._autoPlayIntervalId),this._startAutoPlayTask())},r.prototype.componentWillUnmount=function(){this._async.dispose(),this.props.componentRef&&(this.props.componentRef.current=null)},r.prototype._startAutoPlayTask=function(){var e=this;this.props.autoplaySpeed&&0!==this.props.autoplaySpeed&&(this._autoPlayIntervalId=this._async.setInterval(function(){var t=(e.state.position+1)%e._carouselItemsCount;e._slide(t,N.Next),0===t&&e.props.stopAutoplayAfterFirstRun&&e._stopAutoplay()},this.props.autoplaySpeed||o._defatulAutoplaySpeed))},Object.defineProperty(r.prototype,"_carouselItemsCount",{get:function(){return this.props.carouselSlideCount||t.Children.count(this.props.children)},enumerable:!1,configurable:!0}),r.prototype._getTransformCssClassName=function(){if(this._carouselItemsCount>1){if(!this.state.reordering)return"t_b_fc885fa4";if(this.state.direction===N.Previous)return"u_b_fc885fa4"}return"s_b_fc885fa4"},r.prototype._getCarouselItems=function(){for(var e=[],t=0;t<this._carouselItemsCount;t++)e.push(this._getCarouselItem(t,0,!1));if(2===e.length)for(t=2;t<this._carouselItemsCount+2;t++)e.push(this._getCarouselItem(t,2,!0));return e},r.prototype._getCarouselItem=function(e,a,i){var r=this,o=this._getCarouselItemOrder(e);return 1===o||this._rendered.has(e-a)||1===this.props.carouselSlideCount?(this._rendered.add(e-a),t.createElement("div",{"data-automation-id":i?"SP-carouselItem-duplicate":"SP-carouselItem",key:e,className:(0,n.mergeStyles)(O,this.props.renderDots&&w),role:"listitem","aria-hidden":!l()&&i||void 0,style:{order:o},ref:function(e){1!==o&&1!==r._carouselItemsCount||(r._activeCarouselItem=e)}},this._getCarouselChild(e-a,i))):t.createElement("div",{"data-automation-id":i?"SP-carouselItem-duplicate":"SP-carouselItem",key:e,className:(0,n.mergeStyles)(O,this.props.renderDots&&w),role:"listitem","aria-hidden":!l()&&i||void 0,style:{order:o}})},r.prototype._getCarouselChild=function(e,t){if(this.props.renderCarouselSlide)return _()?this.props.renderCarouselSlide(e,t):this.props.renderCarouselSlide(e,t,this.state.position);var n=void 0;return e<this._carouselItemsCount&&this.props.children&&(n=this.props.children[e]),n},r.prototype._getChoiceGroup=function(){var e=this.state.position,n=this.props.renderDots;if(n){var i=n(e+1,this._carouselItemsCount);if(i)return m()||!this.props.showBottomChevron?[i]:t.createElement("div",{className:M},this._getLeftChevron(!1),t.createElement("div",{className:E,"data-automation-id":"item-count"},i),this._getRightChevron(!1))}for(var r=[],o=0;o<this._carouselItemsCount;o++)r.push({key:"".concat(o),text:"",styles:{choiceFieldWrapper:{paddingLeft:"5px"}},ariaLabel:a._SPKillSwitch.isActivated("74c4891b-198a-4caf-a677-a684181940b1")?a.Text.format(P.bC,o+1,this._carouselItemsCount):a.Text.format(P.fX,this.props.webPartAlias?this.props.webPartAlias:"")});var s={label:"ab_b_fc885fa4",flexContainer:E};return m()||!this.props.showBottomChevron?t.createElement(T.ChoiceGroup,{selectedKey:String(e),options:r,onChange:this._handleChange,styles:s}):t.createElement("div",{className:M},this._getLeftChevron(!0),t.createElement(T.ChoiceGroup,{selectedKey:String(e),options:r,onChange:this._handleChange,styles:s}),this._getRightChevron(!0))},r.prototype._slide=function(e,t,n){var a=this;this.setState({direction:t,reordering:!0,position:e}),this._async.setTimeout(function(){a.setState({reordering:!1}),n&&a._async.setTimeout(function(){var i=t===N.Next?e+1:e-1;a._slide(i%a._carouselItemsCount,t,n-1)},o._defaultTimeoutDelay)},o._defaultTimeoutDelay)},r.prototype._isFocusInFirstOrLastItemOfCurrentSlide=function(e){if(this._activeCarouselItem){var t=this._activeCarouselItem.querySelectorAll(".".concat(B)),n="first"===e?0:t.length-1;return 0===t.length||t[n].contains(document.activeElement)}return!1},Object.defineProperty(r.prototype,"_carouselOuterContainerAriaLabel",{get:function(){var e=this._carouselItemsCount>1?P.NX:P.de;return this.props.edit?a.Text.format(P.z,this.props.carouselTotalItemCount,this.props.strings&&this.props.strings.containerAriaLabelEditMode||"",e):a.Text.format(P.z,this.props.carouselTotalItemCount,this.props.strings&&this.props.strings.containerAriaLabelReadMode||"",e)},enumerable:!1,configurable:!0}),r.prototype._getLeftChevron=function(e){return t.createElement("div",{"data-is-focusable":!0,tabIndex:0,"data-automation-id":"SP-carouselArrowLeft",className:e?k:A,role:"button",onClick:this._prevClickHandler,onKeyDown:this._handleKeyDown(!0)},t.createElement(n.Icon,{className:L,ariaLabel:P.WA,iconName:"ChevronLeft",title:P.WA}))},r.prototype._getRightChevron=function(e){return t.createElement("div",{"data-is-focusable":!0,tabIndex:0,"data-automation-id":"SP-carouselArrowRight",className:e?k:A,role:"button",onClick:this._nextClickHandler,onKeyDown:this._handleKeyDown(!1)},t.createElement(n.Icon,{className:L,ariaLabel:P.EF,iconName:"ChevronRight",title:P.EF}))},r._defaultTimeoutDelay=50,r._defatulAutoplaySpeed=5e3,r._minXDiffForSwipeGesture=50,r._isRTL=(0,n.getRTL)(),o=(0,e.__decorate)([(0,n.customizable)("CarouselLayout",["theme"])],r)}(t.Component);var z={ITEM_MARGIN:20,ITEM_MIN_WIDTH:212,ITEM_MAX_WIDTH:286,MAX_ITEM_COUNT_PER_ROW:4,CLASSICPAGE_CAROUSEL_MAX_WIDTH:828,TILE_NON_PREVIEW_HEIGHT:140,MAX_SLIDES_COUNT:8},G=u(930),K=(0,n.classNamesFunction)(),W=function(t){var i=t.variantTheme,r=(0,n.getTheme)(),o=a._SPKillSwitch.isActivated("d55c11e0-f45e-4237-b5be-81d73ddbc955")?G.typographyStyles.body1:G.typographyStyles.custom.body1;return i?{currentActiveItem:(0,e.__assign)((0,e.__assign)({color:i.semanticColors.bodyText},r.fonts.medium),h()?o:{})}:(0,e.__assign)({currentActiveItem:void 0},h()?o:{})};o.loadStyles("@keyframes h_a_fc885fa4{0%{animation-timing-function:cubic-bezier(.1,.25,.75,.9);opacity:0}to{opacity:1}}.a_a_fc885fa4{position:relative;text-align:center}[dir=ltr] .a_a_fc885fa4{left:50%}[dir=rtl] .a_a_fc885fa4{right:50%}[dir=ltr] .a_a_fc885fa4{transform:translateX(-50%)}[dir=rtl] .a_a_fc885fa4{transform:translateX(50%)}.a_a_fc885fa4:not(.b_a_fc885fa4){font-size:17px;font-weight:300}.c_a_fc885fa4{border:0;height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;text-indent:-9999px;width:1px}.e_a_fc885fa4{display:flex;justify-content:space-between}.e_a_fc885fa4.f_a_fc885fa4{justify-content:flex-start}[dir=ltr] .e_a_fc885fa4.f_a_fc885fa4 .carouselItemWrapper{margin-right:20px}[dir=rtl] .e_a_fc885fa4.f_a_fc885fa4 .carouselItemWrapper{margin-left:20px}.e_a_fc885fa4.g_a_fc885fa4{justify-content:center}",!0);const q=JSON.parse('{"W":"第 {0} 项(共 {1} 项)"}');function Q(e,t){return t<1?z.ITEM_MIN_WIDTH:Math.min(Math.floor(((e||0)+z.ITEM_MARGIN)/t-z.ITEM_MARGIN),z.ITEM_MAX_WIDTH)}function Y(e,t){return Math.floor((e+z.ITEM_MARGIN)/(t+z.ITEM_MARGIN))||1}const J=function(o){function s(e){var i=o.call(this,e)||this;return i._getCarouselSlideCount=function(){var e=i.props.items.length,t=i._getVisibleItemCountPerSlide(),n=e,a=i.props.settings,r=a.dots,o=a.filmStrip;return(r||o)&&(n=Math.ceil(e/t)),n},i._renderCarouselSlide=function(e,a,r){var o,s=i.props.items,c=i._getVisibleItemCountPerSlide();if(i.props.settings.filmStrip){var d=s.slice(e*c,(e+1)*c);return t.createElement("div",{className:(0,n.css)("e_a_fc885fa4",(o={},o.f_a_fc885fa4=d.length<c,o.g_a_fc885fa4=1===d.length&&1===c,o)),role:l()?void 0:"list","data-automation-id":"liteFilmStripContainer"},d.map(function(t,n){return i._onRenderItem(t,n,e,a)}))}return _()?i._onRenderItem(s[e],e,0,a):i._onRenderItem(s[e],e,0,a,r)},i._renderCounter=function(e,a){var o=i.props.items.length,s=i._getVisibleItemCountPerSlide(),c=o>s,d=!1,l=i.props.settings,u=l.dots,f=l.filmStrip,p=l.keyboardNav;(u||f)&&(d=Math.ceil(o/s)<=z.MAX_SLIDES_COUNT),p&&!u&&(d=!1);var m=(0,n.css)("a_a_fc885fa4",i._classNames&&i._classNames.currentActiveItem,"b_a_fc885fa4");return c&&!d&&t.createElement("div",{className:m,"data-automation-id":"item-count"},r.StringHelper.format(q.W,e,a))},i._onRenderItem=function(e,n,a,r,o){return t.createElement("div",{key:n,className:B},i.props.onRenderItem(e,n,i._sliderMaxWidth,i._getVisibleItemCountPerSlide(),a,r,o))},i._getVisibleItemCountPerSlide=function(){if(!a._SPKillSwitch.isActivated("6af0d951-31b5-40bc-ae33-d4a0ccfa0cee"))return i.props.settings.filmStrip&&i.props.width?i.props.itemWidth?Y(i.props.width,i.props.itemWidth):function(e){var t=Y(e,z.ITEM_MIN_WIDTH),n=Y(e,z.ITEM_MAX_WIDTH);return n>z.MAX_ITEM_COUNT_PER_ROW?n:Math.min(z.MAX_ITEM_COUNT_PER_ROW,t)}(i.props.width):1;if(i.props.settings.filmStrip&&i.props.width){var e=Math.floor((i.props.width+z.ITEM_MARGIN)/(z.ITEM_MIN_WIDTH+z.ITEM_MARGIN))||1,t=Math.floor((i.props.width+z.ITEM_MARGIN)/(z.ITEM_MAX_WIDTH+z.ITEM_MARGIN))||1;return t>z.MAX_ITEM_COUNT_PER_ROW?t:Math.min(z.MAX_ITEM_COUNT_PER_ROW,e)}return 1},i.state={itemCount:e.items.length||0},i}var c;return(0,e.__extends)(s,o),c=s,Object.defineProperty(s.prototype,"_classNames",{get:function(){return Boolean(this.props.theme)&&K(W,{variantTheme:this.props.theme})},enumerable:!1,configurable:!0}),s.prototype.render=function(){var e=this.props,n=e.stopAutoplayAfterFirstRun,a=e.theme;return t.createElement(V,{autoplaySpeed:this._autoplaySpeed,edit:this.props.edit,renderDots:this._renderCounter,strings:this.props.strings,stopAutoplayAfterFirstRun:n,theme:a,renderCarouselSlide:this._renderCarouselSlide,carouselSlideCount:this._getCarouselSlideCount(),webPartAlias:this.props.webPartTag?this._webPartAlias:void 0,carouselTotalItemCount:this.state.itemCount,disableSlideChangeAlert:!!this.props.settings.filmStrip,removeReduceMotionOption:this.props.settings.removeReduceMotionOption,onNext:this.props.onNext,onPrevious:this.props.onPrevious,items:this.props.items,scenario:this.props.scenario,onClickItem:this.props.onClickItem,title:this.props.title,alwaysShowArrowButton:this.props.settings.alwaysShowArrowButton})},Object.defineProperty(s.prototype,"_webPartAlias",{get:function(){return this.props.webPartTag?this.props.webPartTag.split(".")[1]:""},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"_autoplaySpeed",{get:function(){var e=this.props.settings.autoplay,t=e?this.props.settings.autoplaySpeed||5:0;return e&&(t>=2&&t<=10?t*=1e3:i._TraceLogger.logError(c._logSource,new Error("InvalidAutoplaySpeed ".concat(t)),"InitialSliderAutoplay")),t},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"_sliderMaxWidth",{get:function(){return a.Environment&&a.Environment.type===a.EnvironmentType.ClassicSharePoint?z.CLASSICPAGE_CAROUSEL_MAX_WIDTH:this.props.width},enumerable:!1,configurable:!0}),s.defaultProps={items:[],settings:{},edit:void 0,width:void 0,onRenderItem:function(){},stopAutoplayAfterFirstRun:!0},s._logSource=i._LogSource.create("sp-carousel-layout"),c=(0,e.__decorate)([(0,n.customizable)("Carousel",["theme"])],s)}(n.BaseComponent);var X=function(){function e(){}return e.loadCarousel=function(){return Promise.resolve(J)},e}()})(),f})());